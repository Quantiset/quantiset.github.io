{"version":3,"file":"gui.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AAGA;AACA;AAGA;AAAA;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AACA;AAAA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;;;;;;;;;;;;;;;;ACpFA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC3BA;AAqHA;;;;;;;;;;;;;;;;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnBA;;;;;;;;;;ACAA","sources":["webpack://GUI/webpack/universalModuleDefinition","webpack://GUI/./src/components/ConditionalApp.jsx","webpack://GUI/./src/playground/CursorOverlay.jsx","webpack://GUI/./src/playground/index.jsx","webpack://GUI/./src/playground/render-gui.jsx","webpack://GUI/./src/utils/CursorSvg.jsx","webpack://GUI/./src/utils/helpers.js","webpack://GUI/./src/utils/mockNames.js","webpack://GUI/./src/utils/useCursor.jsx","webpack://GUI/./src/utils/useTrackCursor.jsx","webpack://GUI/./src/playground/index.css","webpack://GUI/./src/utils/Cursors.module.css","webpack://GUI/./src/utils/LiveCursors.module.css","webpack://GUI/./src/playground/index.css?cc56","webpack://GUI/./src/utils/Cursors.module.css?7369","webpack://GUI/./src/utils/LiveCursors.module.css?e04d","webpack://GUI/ignored|C:\\Users\\ryonp\\Documents\\Collaboration_StationGUI\\node_modules\\intl|./locale-data/complete.js","webpack://GUI/ignored|C:\\Users\\ryonp\\Documents\\Collaboration_StationGUI\\node_modules\\seedrandom|crypto"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GUI\"] = factory();\n\telse\n\t\troot[\"GUI\"] = factory();\n})(self, () => {\nreturn ","import React from 'react';\r\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\r\nimport BrowserModalComponent from './browser-modal/browser-modal.jsx';\r\nimport supportedBrowser from '../lib/supported-browser.js';\r\nimport styles from '../playground/index.css';\r\n//import BrowserModalComponent from '../components/browser-modal/browser-modal.jsx';\r\n\r\n // Assuming this function retrieves space name from URL\r\nconst appTarget = document.createElement('div');\r\nappTarget.className = styles.app;\r\ndocument.body.appendChild(appTarget);\r\nBrowserModalComponent.setAppElement(appTarget);\r\n\r\nconst WrappedBrowserModalComponent = AppStateHOC(BrowserModalComponent, true /* localesOnly */);\r\n\r\n\r\nconst handleBack = () => {};\r\n\r\nconst ConditionalApp = () => (\r\n  <>\r\n    {supportedBrowser() ? (\r\n      // require needed here to avoid importing unsupported browser-crashing code\r\n      require('../playground/render-gui.jsx').default(appTarget)\r\n    ) : (\r\n      \r\n      <WrappedBrowserModalComponent onBack={handleBack} />\r\n    )}\r\n  </>\r\n);\r\n\r\nexport default ConditionalApp;\r\n","// LiveCursors.jsx\r\nimport { useMemo, useRef, useEffect } from \"react\";\r\nimport { useMembers, useSpace } from \"@ably/spaces/react\";\r\nimport { mockNames } from \"../utils/mockNames.js\";\r\nimport { colours } from \"../utils/helpers.js\";\r\nimport { MemberCursors, YourCursor } from \"../utils/useCursor.jsx\";\r\nimport React from \"react\";\r\nimport styles1 from \"../utils/LiveCursors.module.css\";\r\nimport styles from \"./index.css\";\r\n//import 'es6-object-assign/auto';\r\nimport 'core-js/fn/array/includes';\r\n//import 'core-js/fn/promise/finally';\r\nimport 'intl';\r\nimport ConditionalApp from '../components/ConditionalApp.jsx'\r\nconst mockName = () => mockNames[Math.floor(Math.random() * mockNames.length)];\r\n\r\nconst CursorOverlay = ({ spaces }) => {\r\n    const name = useMemo(mockName, []);\r\n    const userColors = useMemo(() => colours[Math.floor(Math.random() * colours.length)], []);\r\n    const { space } = useSpace();\r\n\r\n    useEffect(() => {\r\n        space?.enter({ name, userColors });\r\n    }, [space]);\r\n\r\n    const { self } = useMembers();\r\n    const liveCursors = useRef(null);\r\n\r\n    /*\r\n    const cursorUpdate = async (spaces) => {\r\n        const space2 = await spaces.get(\"test\");\r\n        await space2.enter({ name: \"Ryon\" })\r\n\r\n        space2.subscribe('update', (spaceState) => {\r\n            console.log(\"hi\");\r\n        });\r\n\r\n        space2.cursors.subscribe(\"update\", async (cursor) => {\r\n            console.log(\"HI\");\r\n            const members = await space2.members.getAll();\r\n            const member = members.find((member) => member.connectionId === cursorUpdate.connectionId);\r\n            MemberCursors(member, cursor);\r\n            YourCursor();\r\n        })\r\n    } \r\n    cursorUpdate(spaces);\r\n    */\r\n   \r\n    return (\r\n        <div id=\"live-cursors\" ref={liveCursors} className={styles.app}>\r\n            <ConditionalApp/>\r\n            \r\n        </div>\r\n    );\r\n    /*\r\n    <YourCursor self={self} parentRef={liveCursors} className={styles.overlay} />\r\n            <MemberCursors />\r\n            */\r\n};\r\n\r\nexport default CursorOverlay;","\nimport React from 'react';\nimport { useRef } from \"react\";\nimport ReactDOM from 'react-dom';\nimport { MemberCursors, YourCursor } from \"../utils/useCursor.jsx\";\nimport './index.css';\nimport supportedBrowser from '../lib/supported-browser.js';\n//import * as serviceWorker from './serviceWorker';\n\nimport { SpaceProvider, SpacesProvider } from \"@ably/spaces/react\";\nimport { nanoid } from \"nanoid\";\nimport Spaces from \"@ably/spaces\";\nimport { Realtime } from \"ably\";\n\nimport { getSpaceNameFromUrl } from \"../utils/helpers\";\nimport CursorOverlay from \"./CursorOverlay.jsx\";\n\nimport { AblyProvider } from 'ably/react';\n/*\n\n\n\nimport Spaces from \"@ably/spaces\";\nimport { SpacesProvider, SpaceProvider } from \"@ably/spaces/react\";\n*/\n\nimport styles from './index.css';\nimport {secrets} from \"../utils/Secrets.jsx\";\n\nimport { RotationStyles } from '../components/direction-picker/direction-picker.jsx';\nimport ConditionalApp from '../components/ConditionalApp.jsx';\n\nconst id = nanoid();\nconst spaceName = getSpaceNameFromUrl()\nconst client = new Realtime.Promise({\n    clientId: id,\n    key: secrets.ablySpaces,\n});\nconst spaces = new Spaces(client);\nconst client2 = new Realtime({\n    clientId: id,\n    key: secrets.ablySpaces2,\n});\n\n/*\nconst space = await spaces.get(\"test\");\nawait space.enter({ name: \"Ryon\" })\n\nspace.subscribe('update', (spaceState) => {\n    console.log(\"hi\");\n});\n\nspace.cursors.subscribe(\"update\", async (cursor) => {\n    console.log(\"HI\");\n    const members = await space.members.getAll();\n    const member = members.find((member) => member.connectionId === cursorUpdate.connectionId);\n    MemberCursors(member, cursor);\n    YourCursor();\n})\n\nwindow.addEventListener('mousemove', ({ clientX, clientY }) => {\n    space.cursors.set({ position: { x: clientX, y: clientY }, data: { color: 'red' } });\n});\n*/\n\n\nconst appTarget = document.createElement('div');\nappTarget.className = styles.topheader;\ndocument.body.appendChild(appTarget);\n\n/*\n\n    <SpacesProvider client={spaces}>\n        <SpaceProvider name=\"my-space\">\n*/\n\nReactDOM.render(\n            <AblyProvider client={client2}>\n                <CursorOverlay spaces={spaces}/>\n            </AblyProvider>,\n    appTarget\n);\n\n\n/*\nif (supportedBrowser()) {\n    // require needed here to avoid importing unsupported browser-crashing code\n    // at the top level\n    ReactDOM.render(\n        require('./render-gui.jsx').default(appTarget),\n        appTarget\n    );\n\n} else {\n    BrowserModalComponent.setAppElement(appTarget);\n    const WrappedBrowserModalComponent = AppStateHOC(BrowserModalComponent, true);\n    const handleBack = () => {};\n    // eslint-disable-next-line react/jsx-no-bind\n    ReactDOM.render(<WrappedBrowserModalComponent onBack={handleBack} />, appTarget);\n}\n*/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {compose} from 'redux';\n\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\nimport GUI from '../containers/gui.jsx';\nimport HashParserHOC from '../lib/hash-parser-hoc.jsx';\nimport log from '../lib/log.js';\n\nconst onClickLogo = () => {\n    window.location = 'https://scratch.mit.edu';\n};\n\nconst handleTelemetryModalCancel = () => {\n    log('User canceled telemetry modal');\n};\n\nconst handleTelemetryModalOptIn = () => {\n    log('User opted into telemetry');\n};\n\nconst handleTelemetryModalOptOut = () => {\n    log('User opted out of telemetry');\n};\n\n/*\n * Render the GUI playground. This is a separate function because importing anything\n * that instantiates the VM causes unsupported browsers to crash\n * {object} appTarget - the DOM element to render to\n */\nexport default appTarget => {\n    GUI.setAppElement(appTarget);\n\n    // note that redux's 'compose' function is just being used as a general utility to make\n    // the hierarchy of HOC constructor calls clearer here; it has nothing to do with redux's\n    // ability to compose reducers.\n    const WrappedGui = compose(\n        AppStateHOC,\n        HashParserHOC\n    )(GUI);\n\n    // TODO a hack for testing the backpack, allow backpack host to be set by url param\n    const backpackHostMatches = window.location.href.match(/[?&]backpack_host=([^&]*)&?/);\n    const backpackHost = backpackHostMatches ? backpackHostMatches[1] : null;\n\n    const scratchDesktopMatches = window.location.href.match(/[?&]isScratchDesktop=([^&]+)/);\n    let simulateScratchDesktop;\n    if (scratchDesktopMatches) {\n        try {\n            // parse 'true' into `true`, 'false' into `false`, etc.\n            simulateScratchDesktop = JSON.parse(scratchDesktopMatches[1]);\n        } catch {\n            // it's not JSON so just use the string\n            // note that a typo like \"falsy\" will be treated as true\n            simulateScratchDesktop = scratchDesktopMatches[1];\n        }\n    }\n\n    if (process.env.NODE_ENV === 'production' && typeof window === 'object') {\n        // Warn before navigating away\n        window.onbeforeunload = () => true;\n    }\n\n    return (\n        // important: this is checking whether `simulateScratchDesktop` is truthy, not just defined!\n        simulateScratchDesktop ?\n            <WrappedGui\n                canEditTitle\n                isScratchDesktop\n                showTelemetryModal\n                canSave={false}\n                onTelemetryModalCancel={handleTelemetryModalCancel}\n                onTelemetryModalOptIn={handleTelemetryModalOptIn}\n                onTelemetryModalOptOut={handleTelemetryModalOptOut}\n            /> :\n            <WrappedGui\n                canEditTitle\n                backpackVisible\n                showComingSoon\n                backpackHost={backpackHost}\n                canSave={false}\n                onClickLogo={onClickLogo}\n            />\n        );\n};\n","import React from \"react\";\r\nconst CursorSvg = ({ cursorColor }) => {\r\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"18\", height: \"19\", viewBox: \"0 0 18 19\", fill: \"none\" },\r\n        React.createElement(\"path\", { d: \"M0.22033 3.02709L4.59403 17.4603C5.06656 19.0196 7.05862 19.4688 8.15466 18.2632L16.9021 8.64108C17.9041 7.5388 17.4704 5.7725 16.0718 5.25966L2.95072 0.4486C1.32539 -0.147356 -0.281717 1.37034 0.22033 3.02709Z\", fill: cursorColor })));\r\n};\r\nexport default CursorSvg;\r\n","import { generate } from \"random-words\";\r\nexport const colours = [\r\n    { cursorColor: \"#FE372B\" },\r\n    { cursorColor: \"#9C007E\" },\r\n    { cursorColor: \"#008E06\" },\r\n    { cursorColor: \"#460894\" },\r\n    { cursorColor: \"#0284CD\" },\r\n    { cursorColor: \"#AC8600\" },\r\n    { cursorColor: \"#FF723F\" },\r\n    { cursorColor: \"#FF17D2\" },\r\n    { cursorColor: \"#00E80B\" },\r\n    { cursorColor: \"#7A1BF2\" },\r\n    { cursorColor: \"#2CC0FF\" },\r\n    { cursorColor: \"#FFC700\" },\r\n];\r\nexport const getSpaceNameFromUrl = () => {\r\n    const url = new URL(window.location.href);\r\n    const spaceNameInParams = url.searchParams.get(\"space\");\r\n    if (spaceNameInParams) {\r\n        return spaceNameInParams;\r\n    }\r\n    else {\r\n        const generatedName = generate({ exactly: 3, join: \"-\" });\r\n        url.searchParams.set(\"space\", generatedName);\r\n        window.history.replaceState({}, \"\", `?${url.searchParams.toString()}`);\r\n        return generatedName;\r\n    }\r\n};\r\n","export const mockNames = [\r\n    \"Anum Reeve\",\r\n    \"Tiernan Stubbs\",\r\n    \"Hakim Hernandez\",\r\n    \"Madihah Maynard\",\r\n    \"Mac Beard\",\r\n    \"Gracie-Mae Dunne\",\r\n    \"Oliver Leigh\",\r\n    \"Jose Tapia\",\r\n    \"Lyle Beasley\",\r\n    \"Arslan Samuels\",\r\n    \"Dolores Viale\",\r\n    \"Romola De Carlo\",\r\n    \"Nilde Mancino\",\r\n    \"Donata Curro\",\r\n    \"Beatrice Pata\",\r\n    \"Ella Notaro\",\r\n    \"Acilia Simoni\",\r\n    \"Berenice Rutigliano\",\r\n    \"Ilia Gangi\",\r\n    \"Atanasia Bonacci\",\r\n    \"Jyoti Sane\",\r\n    \"Shaili Potrick\",\r\n    \"Manjusha Dehadray\",\r\n    \"Meera Deoghar\",\r\n    \"Sameera Bhole\",\r\n    \"Bimla Jichkar\",\r\n    \"Kavita Phadake\",\r\n    \"Unnati Zantye\",\r\n    \"Chandra Govatrikar\",\r\n    \"Gauravi Kotwal\",\r\n    \"Keenan Robinson\",\r\n    \"Destin Ellis\",\r\n    \"Tremon Epps\",\r\n    \"Quinell Palmer\",\r\n    \"Demarien Murphy\",\r\n    \"Andres Coleman\",\r\n    \"Reginal Charles\",\r\n    \"Terryl Young\",\r\n    \"Herold Mitchell\",\r\n    \"Kione Butler\",\r\n    \"Magdalena Czech\",\r\n    \"Wioleta Pach\",\r\n    \"Zofia Stasiak\",\r\n    \"Cecylia Wydra\",\r\n    \"Balbina Ochocka\",\r\n    \"Kinga Piłat\",\r\n    \"Kalina Krzemien\",\r\n    \"Olga Moszkowicz\",\r\n    \"Maryla Jeżewska\",\r\n    \"Odeta Turek\",\r\n    \"Noud Groothalle\",\r\n    \"Teun Ekkerink\",\r\n    \"Pier Assendorp\",\r\n    \"Matthijs Mennink\",\r\n    \"Korneel Septer\",\r\n    \"Andries IJsak\",\r\n    \"Freek Vellener\",\r\n    \"Koen Lokman\",\r\n    \"Lodewijk Struijck\",\r\n    \"Stefaan Houtzagers\",\r\n    \"Buddy Saunders\",\r\n    \"Dennis Hunter\",\r\n    \"Alfie Moss\",\r\n    \"River Lewis\",\r\n    \"Tomas Stone\",\r\n    \"Samuel Kelly\",\r\n    \"Rory Phillips\",\r\n    \"Thomas Hussain\",\r\n    \"Ralphy Palmer\",\r\n    \"Eric Evans\",\r\n    \"Silver Gardner\",\r\n    \"Jody Wright\",\r\n    \"Dane Mills\",\r\n    \"Sam Mason\",\r\n    \"Rudy Powell\",\r\n    \"Carol Griffith\",\r\n    \"Brynn Witt\",\r\n    \"Jaden Terrell\",\r\n    \"Riley Rice\",\r\n    \"Ash Mcintosh\",\r\n    \"Rowan Edwards\",\r\n    \"Ryan Shaw\",\r\n    \"Riley Harris\",\r\n    \"Danni Francis\",\r\n    \"Will Lloyd\",\r\n    \"Danni Roy\",\r\n    \"Alex Dean\",\r\n    \"Bev Gamble\",\r\n    \"Danny Blair\",\r\n    \"Leslie Diaz\",\r\n    \"Sugondo Xiaohui\",\r\n    \"Ateng Nuwa\",\r\n    \"Ymkje Anakotta\",\r\n    \"Merry Situmorang\",\r\n    \"Jochebed Selangit\",\r\n    \"Ruby Silo\",\r\n    \"Raja Nizar\",\r\n    \"Fida Nicola\",\r\n    \"Fairuz Jasir\",\r\n    \"Tarub Jamal\",\r\n    \"Zainab Sabri\",\r\n    \"Rima Khalid\",\r\n    \"Najla Karam\",\r\n    \"Oleksandra Andriyenko\",\r\n    \"Sofiya Hlushko\",\r\n    \"Myroslava Kornijchuk\",\r\n    \"Alina Tymchenko\",\r\n    \"Lina Kravchuk\",\r\n    \"Zhanna Novikova\",\r\n    \"Natalya Kravets\",\r\n    \"Nadiya Movchan\",\r\n    \"Nina Sayenko\",\r\n    \"Hanna Tretyak\",\r\n    \"Artim Washere\",\r\n  ];\r\n  \r\nexport const getMemberName = () =>\r\n    mockNames[Math.floor(Math.random() * mockNames.length)];\r\n  \r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useCursors } from \"@ably/spaces/react\";\r\nimport CursorSvg from \"./CursorSvg.jsx\";\r\nimport useTrackCursor from \"./useTrackCursor.jsx\";\r\nimport styles from \"./Cursors.module.css\";\r\n// 💡 This component is used to render the cursor of the user\r\n\r\nconst YourCursor = ({ self, parentRef, }) => {\r\n    const [position, setPosition] = useState({ x: 0, y: 0 });\r\n\r\n    useEffect(() => {\r\n        const handleMouseMove = (event) => {\r\n            setPosition({\r\n                x: event.clientX,\r\n                y: event.clientY\r\n            });\r\n        };\r\n\r\n        window.addEventListener('mousemove', handleMouseMove);\r\n\r\n        // Cleanup the event listener on component unmount\r\n        return () => {\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n        };\r\n    }, []);\r\n\r\n    console.log(position);\r\n\r\n    const cursorColor = \"#FF0000\"\r\n\r\n    return (React.createElement(\"div\", { className: styles.cursor, onMouseMove: (e) => {}, style: {\r\n            top: `${(position === null || position === void 0 ? void 0 : position.y) || 0}px`,\r\n            left: `${(position === null || position === void 0 ? void 0 : position.x) || 0}px`,\r\n        } },\r\n        React.createElement(CursorSvg, { cursorColor: cursorColor }),\r\n        React.createElement(\"div\", { style: { backgroundColor: cursorColor }, className: styles.cursorName }, \"You\")));\r\n}\r\n\r\nconst YourCursor2 = ({ self, parentRef, }) => {\r\n    const [cursorPosition, setCursorPosition] = useState(null);\r\n    const handleSelfCursorMove = useTrackCursor(setCursorPosition, parentRef);\r\n    console.log(self, cursorPosition, \"DSFHIOSDFH\")\r\n    if (!self) {\r\n        return null;\r\n    }\r\n    if (!cursorPosition || cursorPosition.state === \"leave\")\r\n        return null;\r\n    const { cursorColor } = self.profileData.userColors;\r\n    console.log(cursorColor, \"DSFHIOSDFH\")\r\n    return (React.createElement(\"div\", { className: styles.cursor, onMouseMove: (e) => handleSelfCursorMove(e), style: {\r\n            top: `${(cursorPosition === null || cursorPosition === void 0 ? void 0 : cursorPosition.top) || 0}px`,\r\n            left: `${(cursorPosition === null || cursorPosition === void 0 ? void 0 : cursorPosition.left) || 0}px`,\r\n        } },\r\n        React.createElement(CursorSvg, { cursorColor: cursorColor }),\r\n        React.createElement(\"div\", { style: { backgroundColor: cursorColor }, className: styles.cursorName }, \"You\")));\r\n};\r\n// 💡 This component is used to render the cursors of other users in the space\r\nconst MemberCursors = () => {\r\n    const { cursors } = useCursors({ returnCursors: true });\r\n    return (React.createElement(React.Fragment, null, Object.values(cursors).map((data) => {\r\n        const cursorUpdate = data.cursorUpdate;\r\n        const member = data.member;\r\n        if (cursorUpdate.data.state === \"leave\")\r\n            return;\r\n        const { cursorColor } = member.profileData.userColors;\r\n        return (React.createElement(\"div\", { key: member.connectionId, id: `member-cursor-${member.connectionId}`, className: styles.cursor, style: {\r\n                left: `${cursorUpdate.position.x}px`,\r\n                top: `${cursorUpdate.position.y}px`,\r\n            } },\r\n            React.createElement(CursorSvg, { cursorColor: cursorColor }),\r\n            React.createElement(\"div\", { style: { backgroundColor: cursorColor }, className: `${styles.cursorName} member-cursor` }, member.profileData.name)));\r\n    })));\r\n};\r\nexport { MemberCursors, YourCursor };\r\n","import { useEffect } from \"react\";\r\nimport { useCursors } from \"@ably/spaces/react\";\r\n// 💡 This hook is used to get the cursor position of the user and update the cursor position in the space\r\nconst useTrackCursor = (setCursorPosition, parentRef) => {\r\n    const { set } = useCursors();\r\n    let handleSelfCursorMove = () => { };\r\n    useEffect(() => {\r\n        if (!set)\r\n            return;\r\n        const container = document.querySelector(\"#live-cursors\");\r\n        // 💡 This function is used to update the cursor position in the space\r\n        const handleSelfCursorMove = (e) => {\r\n            if (!document.hasFocus())\r\n                return;\r\n            const liveCursorsDiv = parentRef.current;\r\n            const bounds = liveCursorsDiv === null || liveCursorsDiv === void 0 ? void 0 : liveCursorsDiv.getBoundingClientRect();\r\n            if (!bounds)\r\n                return;\r\n            let relativeLeftPosition = e.clientX - bounds.left;\r\n            let relativeTopPosition = e.clientY - bounds.top;\r\n            if (e.clientX < bounds.left)\r\n                relativeLeftPosition = -100;\r\n            if (e.clientX > bounds.right)\r\n                relativeLeftPosition = bounds.right;\r\n            if (e.clientY < bounds.top)\r\n                relativeTopPosition = -100;\r\n            if (e.clientY > bounds.bottom)\r\n                relativeTopPosition = bounds.bottom;\r\n            setCursorPosition({\r\n                left: relativeLeftPosition,\r\n                top: relativeTopPosition,\r\n                state: \"move\",\r\n            });\r\n            set({\r\n                position: { x: relativeLeftPosition, y: relativeTopPosition },\r\n                data: { state: \"move\" },\r\n            });\r\n        };\r\n        const handleSelfCursorLeave = (e) => {\r\n            setCursorPosition({\r\n                left: 0,\r\n                top: 0,\r\n                state: \"leave\",\r\n            });\r\n            set({\r\n                position: { x: 0, y: 0 },\r\n                data: { state: \"leave\" },\r\n            });\r\n        };\r\n        container.addEventListener(\"mousemove\", handleSelfCursorMove);\r\n        container.addEventListener(\"mouseleave\", handleSelfCursorLeave);\r\n        return () => {\r\n            container.removeEventListener(\"mousemove\", handleSelfCursorMove);\r\n            container.removeEventListener(\"mouseleave\", handleSelfCursorLeave);\r\n        };\r\n    }, [set]);\r\n    return handleSelfCursorMove;\r\n};\r\nexport default useTrackCursor;\r\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"html,\\nbody,\\n.index_topheader_2Vzle {\\n    /* probably unecessary, transitional until layout is refactored */\\n    width: 100%; \\n    margin: 0;\\n\\n    /* Setting min height/width makes the UI scroll below those sizes */\\n    min-width: 1024px;\\n    height: 100vh;\\n\\n    flex-direction: column;\\n    display: flex;\\n}\\n\\n.index_app_3Qs6X {\\n    flex: 1;\\n}\\n\\n.index_overlay_3O_3f {\\n    pointer-events: none;\\n    visibility: hidden;\\n}\\n\\n.index_cursor_IXuDF {\\n    visibility: visible;\\n}\\n\\n/* @todo: move globally? Safe / side FX, for blocks particularly? */\\n\\n* { box-sizing: border-box; }\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"topheader\": \"index_topheader_2Vzle\",\n\t\"app\": \"index_app_3Qs6X\",\n\t\"overlay\": \"index_overlay_3O_3f\",\n\t\"cursor\": \"index_cursor_IXuDF\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Cursors-module_cursor_28g2_ {\\r\\n    position: absolute;\\r\\n    pointer-events: none;\\r\\n    z-index: 1000;\\r\\n    cursor: none;\\r\\n}\\r\\n\\r\\n.Cursors-module_cursorName_jhzeK {\\r\\n    padding: 0.5rem 1rem;\\r\\n    margin-left: 0.5rem;\\r\\n    border-radius: 9999px;\\r\\n    font-size: 0.875rem;\\r\\n    line-height: 1.25rem;\\r\\n    color: #fff;\\r\\n    white-space: nowrap;\\r\\n    pointer-events: none;\\r\\n}\\r\\n  \", \"\"]);\n// Exports\nexports.locals = {\n\t\"cursor\": \"Cursors-module_cursor_28g2_\",\n\t\"cursorName\": \"Cursors-module_cursorName_jhzeK\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".LiveCursors-module_liveCursorsContainer_2L9H8 {\\r\\n    width: 100%;\\r\\n    cursor: none;\\r\\n    display:flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    position: relative;\\r\\n    background-color: #ffffff;\\r\\n    height: 100%;\\r\\n  }\\r\\n  \", \"\"]);\n// Exports\nexports.locals = {\n\t\"liveCursorsContainer\": \"LiveCursors-module_liveCursorsContainer_2L9H8\"\n};\nmodule.exports = exports;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./index.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./index.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./index.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./Cursors.module.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./Cursors.module.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./Cursors.module.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./LiveCursors.module.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./LiveCursors.module.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[5].use[1]!../../node_modules/postcss-loader/src/index.js??ruleSet[1].rules[5].use[2]!./LiveCursors.module.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* (ignored) */","/* (ignored) */"],"names":[],"sourceRoot":""}